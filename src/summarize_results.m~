function [] = summarize_results(datasets, atsd_errors, matlab_errors, classifier)
    tail = 'left';
    alpha = 0.1;

    outfile = fopen(['outputs/', classifier, '_results.txt'], 'w');

    algs = {'None', '$Fcal_1$', '$Fcal_2$', '$Fcal_3$', '$MAT$'};
    clrs = {'\cellcolor{red!50}', '\cellcolor{red!30}', '\cellcolor{red!10}', ...
                '\cellcolor{yellow!25}', '\cellcolor{yellow!10}'};

    errors = [atsd_errors matlab_errors];
    [~, pZtest, ~, ranks] = friedman_demsar(errors, tail, alpha);
    mean_ranks = mean(ranks);

    line = ['\bf Data Set & \bf Samples & \bf Features ', ...
                        '& \bf None & $Fcal_1$ & \\bf $Fcal_2$ & $Fcal_3$ & MAT\\\\\n'];
    fprintf(outfile, ['\\bf Data Set & \\bf Samples & \\bf Features ', ...
                        '& \\bf None & $Fcal_1$ & \\bf $Fcal_2$ & $Fcal_3$ & MAT\\\\\n']);
    for i = 1:length(datasets)
        line = datasets{i};
        data = load(['../ClassificationDatasets/csv/', datasets{i}, '.csv']);
        line = [line, ' & ', num2str(size(data, 1)), ' & ', num2str(size(data, 2)-1)];

        for j = 1:size(errors, 2)
            line = [line, ' & ', clrs{floor(ranks(i,j))},' ', num2str(round(10000*errors(i, j))/100), ' (', num2str(ranks(i,j)), ')'];
        end
        fprintf(outfile, '%s \\\\\n', line);
    end

    line = ' & &';
    for j = 1:size(errors, 2)
        line = [line, ' & ', num2str(mean_ranks(j))];
    end
    fprintf(outfile, '%s \\\\\n\n\n\n', line);

    line = [''];
    for i = 1:size(errors, 2)
        line = [line, ' & ', algs{i}];
    end
    fprintf(outfile, '%s \\\\\n', line);

    for i = 1:size(errors, 2)
        line = algs{i};
        for j = 1:size(errors, 2)
            if i == j
                line = [line, ' & --'];
            else
                line = [line, ' & ', num2str(pZtest(i,j))];
            end
        end
        fprintf(outfile, '%s \\\\\n', line);
    end
end
